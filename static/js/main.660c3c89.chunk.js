(this["webpackJsonpantd-demo"]=this["webpackJsonpantd-demo"]||[]).push([[0],{161:function(e,t,n){e.exports=n(296)},166:function(e,t,n){},167:function(e,t,n){},296:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),l=n.n(o),c=(n(166),n(157)),i=n(81),s=n.n(i),u=n(132),m=n(133),p=n(154),d=n(158),h=n(108),y=n(302),f=n(304),b=n(298),v=n(299),g=n(303),E=n(51),k=n(300),w=n(301),C=(n(167),y.a.TabPane);function T(e){console.log(e)}var x={labelCol:{span:4},wrapperCol:{span:16}},S=[{title:"Url",dataIndex:"url"},{title:"Title",dataIndex:"title"}],I={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}};function B(e){return O.apply(this,arguments)}function O(){return(O=Object(h.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Submitting urls: ",t),e.next=3,new Promise((function(e,n){chrome.runtime.sendMessage({action:"submitAll",urls:t},(function(t){console.log("Received response from background: ",t),e(t.urls)}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={urls:[],teamcityUrl:null,teamcityToken:null,teamcityBuildTypeId:null,matchPattern:null},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;chrome&&chrome.storage?(console.log("Running in a Chrome Extension environment"),chrome.storage.sync.get(["teamcityUrl","teamcityToken","teamcityBuildTypeId","matchPattern"],(function(t){console.log(t),e.setState(t),chrome.runtime.sendMessage({action:"getMatchedTab"},(function(t){if(null!==t&&void 0!==t){var n=t.urls;e.setState({urls:n})}}))}))):console.warn("Not running in a Chrome Extension environment")}},{key:"componentWillUnmount",value:function(){}},{key:"onSubmitButtonClick",value:function(){var e=Object(h.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onSubmitButtonClick"),e.next=3,B(t);case 3:n=e.sent,f.b.info("".concat(n.length," pages are submitted to TeamCity!"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.urls,a=t.teamcityUrl,o=t.teamcityToken,l=t.teamcityBuildTypeId,i=t.matchPattern,s=new RegExp(i),u=n.filter((function(e){return s.test(e)}));console.log("setState():filteredUrls: ",u);var m=1,p=u.map((function(e){return{key:""+m++,url:e,title:""}}));return console.log("render(): ",p),r.a.createElement("div",{className:"App"},r.a.createElement(y.a,{defaultActiveKey:"1",onChange:T},r.a.createElement(C,{tab:"Batch Submission",key:"batch-submission"},r.a.createElement(b.a,{style:{margin:"10px"}},r.a.createElement(v.a,{span:8},r.a.createElement(g.a,{placeholder:"",value:i})),r.a.createElement(v.a,{span:2},r.a.createElement(E.a,{type:"primary"},"Filter")),r.a.createElement(v.a,{span:12}),r.a.createElement(v.a,{span:2},r.a.createElement(E.a,{type:"primary",onClick:function(){return e.onSubmitButtonClick(u)}},"Submit"))),r.a.createElement("div",null,r.a.createElement(k.a,{rowSelection:Object(c.a)({type:"checkbox"},I),columns:S,dataSource:p,size:"small"}))),r.a.createElement(C,{tab:"Options",key:"options"},r.a.createElement(w.a,x,r.a.createElement(w.a.Item,{label:"TeamCity Url"},r.a.createElement(g.a,{placeholder:"http://teamcity.example.com",value:a})),r.a.createElement(w.a.Item,{label:"TeamCity Token"},r.a.createElement(g.a,{placeholder:"",value:o})),r.a.createElement(w.a.Item,{label:"TeamCity Build Type Id"},r.a.createElement(g.a,{placeholder:"",value:l})),r.a.createElement(w.a.Item,null,r.a.createElement(E.a,{type:"primary"},"Submit"))))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[161,1,2]]]);
//# sourceMappingURL=main.660c3c89.chunk.js.map